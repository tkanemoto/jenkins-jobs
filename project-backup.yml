- project:
    name: miro
    trigger: H H * * *
    recipients: tak.kanemoto@gmail.com
    jobs:
      - 'organize-episodes-{host}-{name}':
          host: melchior
          library-dir: /Volumes/share/media
          search-dir: /Volumes/phat/media/Miro
          args: --api-key 5024c33353fb1b47e78e55e3ab70ac7b --memcache-server 192.168.11.201
      - 'organize-episodes-{host}-{name}':
          host: arwen
          library-dir: /Volumes/share/media
          search-dir: /Users/tak/Movies/Miro
          args: --api-key 5024c33353fb1b47e78e55e3ab70ac7b --memcache-server 192.168.11.201

- project:
    name: tv
    trigger: H H * * *
    recipients: tak.kanemoto@gmail.com
    jobs:
      - 'organize-episodes-{host}-{name}':
          host: master
          library-dir: /mnt/share/media
          search-dir: /mnt/share/media/TV
          args: --move --api-key 5024c33353fb1b47e78e55e3ab70ac7b --memcache-server 127.0.0.1

- project:
    name: media
    trigger: H H * * *
    recipients: tak.kanemoto@gmail.com
    target: 'root@192.168.11.3:/mnt/DroboFS/Shares/share/media/'
    jobs:
      - sync:
          source-host: eowyn
          source-dirs: /Volumes/PHAT/
          options: >
            -PhuvrlptD --stats
            --exclude Downloads/
            --exclude Library/
            --exclude .jenkins/cache/
            --exclude .cache/
            --exclude .Trash/
            --rsync-path=/mnt/DroboFS/Shares/DroboApps/rsync/rsync

- project:
    name: home
    trigger: H H * * *
    recipients: tak.kanemoto@gmail.com
    target: 'root@192.168.11.3:/mnt/DroboFS/Shares/share/'
    jobs:
      - sync:
          source-host: eowyn
          source-dirs: /Users/tak/
          options: >
            -PhuvrlptD --stats
            --exclude Downloads/
            --exclude Library/
            --exclude .jenkins/cache/
            --exclude .cache/
            --exclude .bash_sessions/
            --exclude .dropbox/
            --exclude .Trash/
            --exclude Movies/Miro/
            --exclude media/
            --rsync-path=/mnt/DroboFS/Shares/DroboApps/rsync/rsync

      - sync:
          source-host: melchior
          source-dirs: /Volumes/phat/ /Volumes/phat/home/tak/
          options: >
            -PhuvrlptD --stats
            --exclude Downloads/
            --exclude Library/
            --exclude .jenkins/cache/
            --exclude home/
            --exclude .cache/
            --exclude .Trash/
            --exclude media/Miro
            --rsync-path=/mnt/DroboFS/Shares/DroboApps/rsync/rsync

- project:
    name: downloads
    trigger: H H * * *
    recipients: tak.kanemoto@gmail.com
    target: 'root@192.168.11.3:/mnt/DroboFS/Shares/share/Downloads'
    options: >
      -PhuvrlptD
      --stats
      --exclude .Trash/
      --remove-source-files
      --rsync-path=/mnt/DroboFS/Shares/DroboApps/rsync/rsync
    jobs:
      - sync:
          source-host: eowyn
          source-dirs: /Users/tak/Downloads/
      - sync:
          source-host: melchior
          source-dirs: /Volumes/phat/home/tak/Downloads/

- project:
    name: git
    trigger: H H * * *
    recipients: tak.kanemoto@gmail.com
    target: 'root@192.168.11.3:/mnt/DroboFS/Shares/share/proj/git'
    options: >
      -PhuvrlptD
      --stats
      --exclude .Trash/
      --rsync-path=/mnt/DroboFS/Shares/DroboApps/rsync/rsync
    jobs:
      - sync:
          rsync: sudo rsync
          source-host: master
          source-dirs: /var/gerrit/git/

- project:
    name: srv
    trigger: H H * * *
    recipients: tak.kanemoto@gmail.com
    target: 'root@192.168.11.3:/mnt/DroboFS/Shares/share/proj/srv'
    options: >
      -PhuvrlptD
      --stats
      --exclude .Trash/
      --rsync-path=/mnt/DroboFS/Shares/DroboApps/rsync/rsync
    jobs:
      - sync:
          rsync: sudo rsync
          source-host: master
          source-dirs: /srv/

- project:
    name: www
    trigger: H H * * *
    recipients: tak.kanemoto@gmail.com
    target: 'root@192.168.11.3:/mnt/DroboFS/Shares/share/proj/srv/www'
    options: >
      -PhuvrlptD
      --stats
      --exclude .Trash/
      --rsync-path=/mnt/DroboFS/Shares/DroboApps/rsync/rsync
    jobs:
      - sync:
          rsync: sudo rsync
          source-host: master
          source-dirs: /var/www/
